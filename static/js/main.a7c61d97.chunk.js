(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),s=(a(15),a(6)),o=a(1),i=a(2),u=a(4),h=a(3),m=a(5),p=(a(16),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.onRaceClick(a.props.round)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceName,a=e.round;e.Circuit,e.url;return r.a.createElement("div",{className:"listedRace",onClick:this.handleClick},r.a.createElement("h4",{className:""},a,": ",t))}}]),t}(n.Component)),d=function(e){return function(t){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).isLoading=function(){return t.props.data&&t.props.data.length>0||t.props.Circuit},t}return Object(m.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){return"start"===this.props.yearReady?r.a.createElement("h2",null,"Select a Championship Year"):"start"===this.props.roundReady?r.a.createElement("h2",null,"Select a Championship Round"):this.isLoading()?r.a.createElement(e,this.props):r.a.createElement("h2",null,"Loading your data")}}]),a}(n.Component)},f=d(function(e){return r.a.createElement("div",{className:"list"},e.data.map(function(t,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement(p,Object.assign({},t,{onRaceClick:e.onRaceClick})))}))}),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={yearOptions:[]},a.handleChange=function(e){a.props.onChangeYear(e.target.value)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=1950;t<=(new Date).getFullYear()-1;t++)e.push(t.toString());this.setState({yearOptions:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Formula 1"),r.a.createElement("select",{onChange:this.handleChange},this.state.yearOptions.map(function(e){return r.a.createElement("option",null,e)}),r.a.createElement("option",{selected:!0},"Please select a year")))}}]),t}(n.Component),E=d(function(e){var t=e.raceName,a=e.date,n=e.Circuit,c=e.Results,l=e.round;return n&&console.log(n),r.a.createElement("div",{className:"race raceDisplay"},r.a.createElement("div",{className:"raceFactsDisplay"},r.a.createElement("h2",null,"Championship Round ",l),r.a.createElement("h3",null,t),r.a.createElement("h4",null,a),r.a.createElement("h4",null,"Location: ",r.a.createElement("a",{href:n.url},n.circuitName))),r.a.createElement("div",{className:"resultsDisplay"},r.a.createElement("h3",null,"Results"),r.a.createElement("table",{id:"resultTable"},r.a.createElement("tr",{style:{color:"black"}},r.a.createElement("th",null,"Position"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Nationality"),r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Laps"),r.a.createElement("th",null,"Fastest Lap")),c.map(function(e,t){var a=e.Driver,n=e.position,c=e.Constructor,l=e.FastestLap,s=e.laps;return r.a.createElement("tr",{key:t},r.a.createElement("th",null,n),r.a.createElement("th",null,a.givenName," ",a.familyName),r.a.createElement("th",null,a.nationality),r.a.createElement("th",null,c.name),r.a.createElement("th",null,s),r.a.createElement("th",null,void 0!=l?l.Time.time:"n/a"))}))))}),b={year:"start",round:"start",selectedRound:{},season:{RaceTable:{Races:[]}}},g=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=Object(s.a)({},b),a.updateRound=function(e){a.setState(function(t){return Object.assign({},Object(s.a)({},b),{year:t.year,season:t.season,round:e})},a.getRoundData)},a.updateYear=function(e){a.setState(Object.assign({},Object(s.a)({},b),{year:e}),a.getSeasonData)},a.getRoundData=function(){fetch("http://ergast.com/api/f1/".concat(a.state.year,"/").concat(a.state.round,"/results.json")).then(function(e){return e.json()}).then(function(e){return a.setState({selectedRound:e.MRData.RaceTable.Races[0]})})},a.getSeasonData=function(){fetch("http://ergast.com/api/f1/".concat(a.state.year,".json")).then(function(e){return e.json()}).then(function(e){a.setState({season:e.MRData}),a.getRoundData()})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getSeasonData(),this.getRoundData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{year:this.state.year,onChangeYear:this.updateYear}),r.a.createElement(f,{yearReady:this.state.year,onRaceClick:this.updateRound,data:this.state.season.RaceTable.Races,display:p}),r.a.createElement(E,Object.assign({},this.state.selectedRound,{roundReady:this.state.round})))}}]),t}(n.Component);l.a.render(r.a.createElement(g,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.a7c61d97.chunk.js.map